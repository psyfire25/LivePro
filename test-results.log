
> with-tailwind@ test /Volumes/T7/CodeT7/Archive/LivePro
> turbo run test

turbo 2.5.6

â€¢ Packages in scope: @livepro/api-types, @repo/auth, @repo/eslint-config, @repo/motion, @repo/tailwind-config, @repo/test-config, @repo/typescript-config, @repo/ui, api, docs, finance, production, staffing, talent, web
â€¢ Running test in 15 packages
â€¢ Remote caching enabled
@livepro/api-types:test: cache hit, replaying logs b42deb90baa45692
@livepro/api-types:test: 
@livepro/api-types:test: 
@livepro/api-types:test: > @livepro/api-types@0.0.1 test /Volumes/T7/CodeT7/Archive/LivePro/packages/api-types
@livepro/api-types:test: > echo "API types validated during build"
@livepro/api-types:test: 
@livepro/api-types:test: API types validated during build
@repo/motion:build: cache hit, replaying logs dde52c9dc2a29e30
@repo/motion:build: 
@repo/motion:build: 
@repo/motion:build: > @repo/motion@0.0.0 build /Volumes/T7/CodeT7/Archive/LivePro/packages/motion
@repo/motion:build: > tsc -p tsconfig.json
@repo/motion:build: 
@repo/auth:test: cache hit, replaying logs 3d567b80d2633ab4
@repo/auth:test: 
@repo/auth:test: 
@repo/auth:test: > @repo/auth@0.0.1 test /Volumes/T7/CodeT7/Archive/LivePro/packages/auth
@repo/auth:test: > vitest run
@repo/auth:test: 
@repo/auth:test: 
@repo/auth:test: [7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90m/Volumes/T7/CodeT7/Archive/LivePro/packages/auth[39m
@repo/auth:test: 
@repo/auth:test: [?25l [32mâœ“[39m [2msrc/__tests__/[22mindex[2m.test.ts[22m[2m (1)[22m
@repo/auth:test:    [32mâœ“[39m Auth Package[2m (1)[22m
@repo/auth:test:      [32mâœ“[39m should pass placeholder test
@repo/auth:test: [?25l[?25l[2K[1A[2K[1A[2K[1A[2K[G [32mâœ“[39m [2msrc/__tests__/[22mindex[2m.test.ts[22m[2m (1)[22m
@repo/auth:test:    [32mâœ“[39m Auth Package[2m (1)[22m
@repo/auth:test:      [32mâœ“[39m should pass placeholder test
@repo/auth:test: 
@repo/auth:test: [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
@repo/auth:test: [2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
@repo/auth:test: [2m   Start at [22m 20:17:21
@repo/auth:test: [2m   Duration [22m 16.10s[2m (transform 110ms, setup 1ms, collect 574ms, tests 6ms, environment 2ms, prepare 6.36s)[22m
@repo/auth:test: 
@repo/auth:test: [?25h[?25h
@repo/motion:test: cache hit, replaying logs 403d37d7f7b8fb82
@repo/motion:test: 
@repo/motion:test: 
@repo/motion:test: > @repo/motion@0.0.0 test /Volumes/T7/CodeT7/Archive/LivePro/packages/motion
@repo/motion:test: > vitest run
@repo/motion:test: 
@repo/motion:test: 
@repo/motion:test: [7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90m/Volumes/T7/CodeT7/Archive/LivePro/packages/motion[39m
@repo/motion:test: 
@repo/motion:test: [?25l [90mÂ·[39m [2msrc/__tests__/[22mindex[2m.test.ts[22m[2m (1)[22m
@repo/motion:test:    [90mÂ·[39m Motion Package[2m (1)[22m
@repo/motion:test:      [90mÂ·[39m should pass placeholder test
@repo/motion:test: [?25l[?25l[?25l[?25l[?25l[?25l[?25l[?25l[2K[1A[2K[1A[2K[1A[2K[G [32mâœ“[39m [2msrc/__tests__/[22mindex[2m.test.ts[22m[2m (1)[22m[33m 421[2mms[22m[39m
@repo/motion:test:    [32mâœ“[39m Motion Package[2m (1)[22m[33m 420[2mms[22m[39m
@repo/motion:test:      [32mâœ“[39m should pass placeholder test
@repo/motion:test: [?25l[?25l[2K[1A[2K[1A[2K[1A[2K[G [32mâœ“[39m [2msrc/__tests__/[22mindex[2m.test.ts[22m[2m (1)[22m[33m 421[2mms[22m[39m
@repo/motion:test:    [32mâœ“[39m Motion Package[2m (1)[22m[33m 420[2mms[22m[39m
@repo/motion:test:      [32mâœ“[39m should pass placeholder test
@repo/motion:test: 
@repo/motion:test: [2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
@repo/motion:test: [2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
@repo/motion:test: [2m   Start at [22m 20:17:22
@repo/motion:test: [2m   Duration [22m 16.00s[2m (transform 58ms, setup 1ms, collect 519ms, tests 421ms, environment 1ms, prepare 5.36s)[22m
@repo/motion:test: 
@repo/motion:test: [?25h[?25h
@livepro/api-types:build: cache miss, executing 2a6f5bfdf17dfd3a
@repo/ui:build:components: cache miss, executing 52e25f947510b2f9
api:test: cache miss, executing 08b24025131f7d1c
@repo/ui:build:styles: cache miss, executing 6ac162b8ac8de5c6
@repo/ui:test: cache miss, executing adc995f13575329d
@repo/ui:build:styles: 
@repo/ui:build:styles: > @repo/ui@0.0.0 build:styles /Volumes/T7/CodeT7/Archive/LivePro/packages/ui
@repo/ui:build:styles: > tailwindcss -i ./src/styles.css -o ./dist/index.css
@repo/ui:build:styles: 
@repo/ui:test: 
@repo/ui:test: > @repo/ui@0.0.0 test /Volumes/T7/CodeT7/Archive/LivePro/packages/ui
@repo/ui:test: > vitest run
@repo/ui:test: 
@repo/ui:build:components: 
@repo/ui:build:components: > @repo/ui@0.0.0 build:components /Volumes/T7/CodeT7/Archive/LivePro/packages/ui
@repo/ui:build:components: > tsc
@repo/ui:build:components: 
@livepro/api-types:build: 
@livepro/api-types:build: > @livepro/api-types@0.0.1 build /Volumes/T7/CodeT7/Archive/LivePro/packages/api-types
@livepro/api-types:build: > tsc -p tsconfig.json && cp schema.json dist/schema.json
@livepro/api-types:build: 
api:test: 
api:test: > api@0.0.1 test /Volumes/T7/CodeT7/Archive/LivePro/apps/api
api:test: > jest
api:test: 
@repo/ui:build:styles: â‰ˆ tailwindcss v4.1.5
@repo/ui:build:styles: 
@repo/ui:build:styles: Done in 1s
@repo/ui:test: [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
 WARNING  Insufficient permissions to write to remote cache. Please verify that your role has write access for Remote Cache Artifact at https://vercel.com/docs/accounts/team-members-and-roles/access-roles/team-level-roles?resource=Remote+Cache+Artifact
@repo/ui:test: 
@repo/ui:test:  RUN  v1.6.1 /Volumes/T7/CodeT7/Archive/LivePro/packages/ui
@repo/ui:test: 
@repo/ui:test:  âœ“ src/components/ui/__tests__/input.test.tsx  (3 tests) 1492ms
api:test: PASS src/events/events.service.spec.ts (19.568 s)
api:test: FAIL src/tasks/tasks.service.spec.ts (20.736 s)
api:test:   â— TasksService â€º updateStatus â€º should update task status
api:test: 
api:test:     TypeError: this.prisma.task.findFirst is not a function
api:test: 
api:test:       29 |
api:test:       30 |   async updateStatus(eventId: string, id: string, dto: UpdateTaskStatusDto) {
api:test:     > 31 |     const existing = await this.prisma.task.findFirst({ where: { id, eventId } });
api:test:          |                                             ^
api:test:       32 |     if (!existing) throw new NotFoundException('Task not found');
api:test:       33 |     return this.prisma.task.update({ where: { id }, data: { status: dto.status as any } });
api:test:       34 |   }
api:test: 
api:test:       at TasksService.updateStatus (tasks/tasks.service.ts:31:45)
api:test:       at Object.<anonymous> (tasks/tasks.service.spec.ts:62:34)
api:test: 
@repo/ui:test:  âœ“ src/components/ui/__tests__/button.test.tsx  (3 tests) 3763ms
@repo/ui:test:  âœ“ src/components/ui/__tests__/card.test.tsx  (2 tests) 2783ms
@repo/ui:test: 
@repo/ui:test:  Test Files  3 passed (3)
@repo/ui:test:       Tests  8 passed (8)
@repo/ui:test:    Start at  20:30:27
@repo/ui:test:    Duration  31.56s (transform 173ms, setup 5.14s, collect 13.14s, tests 8.04s, environment 44.10s, prepare 7.64s)
@repo/ui:test: 
 WARNING  Insufficient permissions to write to remote cache. Please verify that your role has write access for Remote Cache Artifact at https://vercel.com/docs/accounts/team-members-and-roles/access-roles/team-level-roles?resource=Remote+Cache+Artifact
api:test: PASS src/schedule/schedule.service.spec.ts
api:test: PASS src/tasks/tasks.controller.spec.ts (27.217 s)
api:test: FAIL src/workspaces/workspaces.service.spec.ts
api:test:   â— WorkspacesService â€º list â€º should return workspaces
api:test: 
api:test:     TypeError: service.list is not a function
api:test: 
api:test:       39 |             jest.spyOn(prisma.workspace, 'findMany').mockResolvedValue(result as any);
api:test:       40 |
api:test:     > 41 |             expect(await service.list()).toBe(result);
api:test:          |                                  ^
api:test:       42 |         });
api:test:       43 |     });
api:test:       44 |
api:test: 
api:test:       at Object.<anonymous> (workspaces/workspaces.service.spec.ts:41:34)
api:test: 
api:test:   â— WorkspacesService â€º create â€º should create a workspace
api:test: 
api:test:     TypeError: service.create is not a function
api:test: 
api:test:       49 |             jest.spyOn(prisma.workspace, 'create').mockResolvedValue(result as any);
api:test:       50 |
api:test:     > 51 |             expect(await service.create(dto)).toBe(result);
api:test:          |                                  ^
api:test:       52 |         });
api:test:       53 |     });
api:test:       54 | });
api:test: 
api:test:       at Object.<anonymous> (workspaces/workspaces.service.spec.ts:51:34)
api:test: 
api:test: PASS src/events/events.controller.spec.ts (13.858 s)
api:test: FAIL src/workspaces/workspaces.controller.spec.ts
api:test:   â— WorkspacesController â€º list â€º should return workspaces
api:test: 
api:test:     TypeError: controller.list is not a function
api:test: 
api:test:       36 |             jest.spyOn(service, 'list').mockResolvedValue(result as any);
api:test:       37 |
api:test:     > 38 |             expect(await controller.list()).toBe(result);
api:test:          |                                     ^
api:test:       39 |         });
api:test:       40 |     });
api:test:       41 |
api:test: 
api:test:       at Object.<anonymous> (workspaces/workspaces.controller.spec.ts:38:37)
api:test: 
api:test:   â— WorkspacesController â€º create â€º should create a workspace
api:test: 
api:test:     TypeError: controller.create is not a function
api:test: 
api:test:       46 |             jest.spyOn(service, 'create').mockResolvedValue(result as any);
api:test:       47 |
api:test:     > 48 |             expect(await controller.create(dto)).toBe(result);
api:test:          |                                     ^
api:test:       49 |         });
api:test:       50 |     });
api:test:       51 | });
api:test: 
api:test:       at Object.<anonymous> (workspaces/workspaces.controller.spec.ts:48:37)
api:test: 
api:test: PASS src/stages/stages.service.spec.ts (5.99 s)
api:test: PASS src/schedule/schedule.controller.spec.ts (14.514 s)
api:test: PASS src/app.controller.spec.ts (5.03 s)
api:test: PASS src/stages/stages.controller.spec.ts (10.863 s)
api:test: 
api:test: Test Suites: 3 failed, 8 passed, 11 total
api:test: Tests:       5 failed, 30 passed, 35 total
api:test: Snapshots:   0 total
api:test: Time:        63.456 s
api:test: Ran all test suites.
api:test: â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
api:test: ERROR: command finished with error: command (/Volumes/T7/CodeT7/Archive/LivePro/apps/api) /Users/JJ/Library/pnpm/.tools/pnpm/8.15.6/bin/pnpm run test exited (1)
api#test: command (/Volumes/T7/CodeT7/Archive/LivePro/apps/api) /Users/JJ/Library/pnpm/.tools/pnpm/8.15.6/bin/pnpm run test exited (1)

 Tasks:    6 successful, 9 total
Cached:    4 cached, 9 total
  Time:    1m27.629s 
Failed:    api#test

 WARNING  no output files found for task @repo/ui#test. Please check your `outputs` key in `turbo.json`
 ERROR  run failed: command  exited (1)
â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
